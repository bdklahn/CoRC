<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model Building • CoRC</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Model Building">
<meta property="og:description" content="">
<meta property="og:image" content="https://jpahle.github.io/CoRC/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CoRC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CoRC.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/entity_management.html">Model Entity Management</a>
    </li>
    <li>
      <a href="../articles/task_management.html">Task Management</a>
    </li>
    <li>
      <a href="../articles/model_building.html">Model Building</a>
    </li>
    <li>
      <a href="../articles/issues.html">Issues</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/examples.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jpahle/CoRC">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Model Building</h1>
                        <h4 class="author">Jonas Förster &amp; Jürgen Pahle</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jpahle/CoRC/blob/master/vignettes/model_building.Rmd"><code>vignettes/model_building.Rmd</code></a></small>
      <div class="hidden name"><code>model_building.Rmd</code></div>

    </div>

    
    
<div id="initial-setup" class="section level1">
<h1 class="hasAnchor">
<a href="#initial-setup" class="anchor"></a>Initial Setup</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(CoRC)</a></code></pre></div>
</div>
<div id="quick-model-building" class="section level1">
<h1 class="hasAnchor">
<a href="#quick-model-building" class="anchor"></a>Quick Model Building</h1>
<p>Building a quick Michaelis-Menten reaction using COPASI’s automatisms. Working with reaction equations automatically creates required entities the same way the COPASI GUI does.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/newModel.html">newModel</a></span>()</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; # A COPASI model reference:</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; Model name: "New Model"</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; Number of compartments: 0</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; Number of species: 0</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; Number of reactions: 0</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw"><a href="../reference/newReaction.html">newReaction</a></span>(<span class="st">"a = b"</span>, <span class="dt">fun =</span> <span class="st">"Reversible Michaelis-Menten"</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; [1] "(a = b)"</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw"><a href="../reference/getSpecies.html">getSpecies</a></span>()</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; # A tibble: 2 x 13</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;   key   name  compartment type  unit  initial_concent… initial_number</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; 1 a{co… a     compartment reac… mmol…                1        6.02e20</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; 2 b{co… b     compartment reac… mmol…                1        6.02e20</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; # … with 6 more variables: concentration &lt;dbl&gt;, number &lt;dbl&gt;, rate &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; #   number_rate &lt;dbl&gt;, initial_expression &lt;chr&gt;, expression &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="kw"><a href="../reference/getReactions.html">getReactions</a></span>()</a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; # A tibble: 1 x 6</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt;   key     name  reaction rate_law                          flux number_flux</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;                            &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt; 1 (a = b) a = b a = b    FunctionDB.Functions[Reversible…     0           0</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="kw"><a href="../reference/getParameters.html">getParameters</a></span>()</a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; # A tibble: 4 x 5</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt;   key         name  reaction value mapping</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; 1 (a = b).Kms Kms   a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; 2 (a = b).Kmp Kmp   a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co">#&gt; 3 (a = b).Vf  Vf    a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co">#&gt; 4 (a = b).Vr  Vr    a = b      0.1 &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"><span class="kw"><a href="../reference/unloadModel.html">unloadModel</a></span>()</a></code></pre></div>
</div>
<div id="more-detail" class="section level1">
<h1 class="hasAnchor">
<a href="#more-detail" class="anchor"></a>More Detail</h1>
<p>Getting more detail in can be helpful. Here we create a global quantity “substrate concentration” which applies a fixed value to species “a”. This is achieved by assigning the <code>Value</code> reference of the global quantity to species “a”.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/newModel.html">newModel</a></span>()</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; # A COPASI model reference:</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; Model name: "New Model"</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; Number of compartments: 0</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; Number of species: 0</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; Number of reactions: 0</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">subs_quant &lt;-<span class="st"> </span><span class="kw"><a href="../reference/newGlobalQuantity.html">newGlobalQuantity</a></span>(<span class="st">"substrate concentration"</span>, <span class="dt">initial_value =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">subs_value &lt;-<span class="st"> </span><span class="kw"><a href="../reference/entity_finders.html">quantity</a></span>(subs_quant, <span class="dt">reference =</span> <span class="st">"Value"</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">subs_value</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt; [1] "{Values[substrate concentration]}"</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="kw"><a href="../reference/newSpecies.html">newSpecies</a></span>(<span class="st">"a"</span>, <span class="dt">type =</span> <span class="st">"assignment"</span>, <span class="dt">expression =</span> subs_value)</a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; Warning: No compartment exists. Created default compartment.</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; [1] "a{compartment}"</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="kw"><a href="../reference/newReaction.html">newReaction</a></span>(<span class="st">"a = b"</span>, <span class="dt">fun =</span> <span class="st">"Reversible Michaelis-Menten"</span>)</a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; [1] "(a = b)"</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="kw"><a href="../reference/getGlobalQuantities.html">getGlobalQuantities</a></span>()</a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; # A tibble: 1 x 9</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt;   key   name  type  unit  initial_value value  rate initial_express…</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt; 1 Valu… subs… fixed ""               10   NaN     0 ""              </span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; # … with 1 more variable: expression &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="kw"><a href="../reference/getSpecies.html">getSpecies</a></span>()</a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt; # A tibble: 2 x 13</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt;   key   name  compartment type  unit  initial_concent… initial_number</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; 1 a{co… a     compartment assi… mmol…               10        6.02e21</span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; 2 b{co… b     compartment reac… mmol…                1        6.02e20</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt; # … with 6 more variables: concentration &lt;dbl&gt;, number &lt;dbl&gt;, rate &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">#&gt; #   number_rate &lt;dbl&gt;, initial_expression &lt;chr&gt;, expression &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="kw"><a href="../reference/getReactions.html">getReactions</a></span>()</a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">#&gt; # A tibble: 1 x 6</span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">#&gt;   key     name  reaction rate_law                          flux number_flux</span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;                            &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">#&gt; 1 (a = b) a = b a = b    FunctionDB.Functions[Reversible…     0           0</span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="kw"><a href="../reference/getParameters.html">getParameters</a></span>()</a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">#&gt; # A tibble: 4 x 5</span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">#&gt;   key         name  reaction value mapping</span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="co">#&gt; 1 (a = b).Kms Kms   a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="co">#&gt; 2 (a = b).Kmp Kmp   a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb3-44" data-line-number="44"><span class="co">#&gt; 3 (a = b).Vf  Vf    a = b      0.1 &lt;NA&gt;   </span></a>
<a class="sourceLine" id="cb3-45" data-line-number="45"><span class="co">#&gt; 4 (a = b).Vr  Vr    a = b      0.1 &lt;NA&gt;</span></a>
<a class="sourceLine" id="cb3-46" data-line-number="46"></a>
<a class="sourceLine" id="cb3-47" data-line-number="47">timecourse &lt;-<span class="st"> </span><span class="kw"><a href="../reference/runTimeCourse.html">runTimeCourse</a></span>(<span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb3-48" data-line-number="48"></a>
<a class="sourceLine" id="cb3-49" data-line-number="49"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span>(timecourse)</a></code></pre></div>
<p><img src="model_building_files/figure-html/unnamed-chunk-3-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="../reference/unloadModel.html">unloadModel</a></span>()</a></code></pre></div>
</div>
<div id="defining-reaction-kinetics-manually" class="section level1">
<h1 class="hasAnchor">
<a href="#defining-reaction-kinetics-manually" class="anchor"></a>Defining Reaction Kinetics Manually</h1>
<p>In previous examples, we used the predefined “Reversible Michaelis-Menten” kinetic functions. In this example we create an equivalent function manually to achieve the same result.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/newModel.html">newModel</a></span>()</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; # A COPASI model reference:</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; Model name: "New Model"</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; Number of compartments: 0</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; Number of species: 0</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; Number of reactions: 0</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw"><a href="../reference/newCompartment.html">newCompartment</a></span>(<span class="st">"compartment"</span>)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; [1] "Compartments[compartment]"</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="kw"><a href="../reference/newSpecies.html">newSpecies</a></span>(<span class="st">"a"</span>, <span class="dt">type =</span> <span class="st">"fixed"</span>, <span class="dt">initial_concentration =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; [1] "a{compartment}"</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="kw"><a href="../reference/newSpecies.html">newSpecies</a></span>(<span class="st">"b"</span>)</a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; [1] "b{compartment}"</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="kw"><a href="../reference/newKineticFunction.html">newKineticFunction</a></span>(</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">  <span class="st">"manual MM"</span>,</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">  <span class="st">"((Vf * substrate) / Kms - Vr * product / Kmp) / (1 + substrate / Kms + product / Kms)"</span>,</a>
<a class="sourceLine" id="cb5-17" data-line-number="17">  <span class="dt">parameters =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">substrate =</span> <span class="st">"substrate"</span>, <span class="dt">product =</span> <span class="st">"product"</span>)</a>
<a class="sourceLine" id="cb5-18" data-line-number="18">)</a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; [1] "FunctionDB.Functions[manual MM]"</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="kw"><a href="../reference/newReaction.html">newReaction</a></span>(</a>
<a class="sourceLine" id="cb5-21" data-line-number="21">  <span class="st">"a = b"</span>,</a>
<a class="sourceLine" id="cb5-22" data-line-number="22">  <span class="dt">fun =</span> <span class="st">"manual MM"</span>,</a>
<a class="sourceLine" id="cb5-23" data-line-number="23">  <span class="dt">mapping =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb5-24" data-line-number="24">    <span class="dt">substrate =</span> <span class="st">"a"</span>,</a>
<a class="sourceLine" id="cb5-25" data-line-number="25">    <span class="dt">product =</span> <span class="st">"b"</span>,</a>
<a class="sourceLine" id="cb5-26" data-line-number="26">    <span class="dt">Vf =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb5-27" data-line-number="27">    <span class="dt">Kms =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb5-28" data-line-number="28">    <span class="dt">Vr =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb5-29" data-line-number="29">    <span class="dt">Kmp =</span> <span class="fl">0.1</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30">  )</a>
<a class="sourceLine" id="cb5-31" data-line-number="31">)</a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt; [1] "(a = b)"</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"></a>
<a class="sourceLine" id="cb5-34" data-line-number="34">timecourse &lt;-<span class="st"> </span><span class="kw"><a href="../reference/runTimeCourse.html">runTimeCourse</a></span>(<span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb5-35" data-line-number="35"></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span>(timecourse)</a></code></pre></div>
<p><img src="model_building_files/figure-html/unnamed-chunk-4-1.png" width="100%"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="../reference/unloadModel.html">unloadModel</a></span>()</a></code></pre></div>
</div>
<div id="quantities-as-proxy-for-time-course-output" class="section level1">
<h1 class="hasAnchor">
<a href="#quantities-as-proxy-for-time-course-output" class="anchor"></a>Quantities as Proxy for Time Course Output</h1>
<p>The <code>runTimeCourse</code> function only returns data for actual defined entities of the model. Auxiliarry information like reaction rates can be missing and needs to be added via global quantity assignments. This example creates a global quantity “reaction rate” to generate data for the main reaction’s flux.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="../reference/newModel.html">newModel</a></span>()</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; # A COPASI model reference:</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; Model name: "New Model"</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Number of compartments: 0</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; Number of species: 0</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; Number of reactions: 0</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">subs_quant &lt;-<span class="st"> </span><span class="kw"><a href="../reference/newGlobalQuantity.html">newGlobalQuantity</a></span>(<span class="st">"substrate concentration"</span>, <span class="dt">initial_value =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">subs_value &lt;-<span class="st"> </span><span class="kw"><a href="../reference/entity_finders.html">quantity</a></span>(subs_quant, <span class="dt">reference =</span> <span class="st">"Value"</span>)</a>
<a class="sourceLine" id="cb7-10" data-line-number="10"></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="kw"><a href="../reference/newSpecies.html">newSpecies</a></span>(<span class="st">"a"</span>, <span class="dt">type =</span> <span class="st">"assignment"</span>, <span class="dt">expression =</span> subs_value)</a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; Warning: No compartment exists. Created default compartment.</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; [1] "a{compartment}"</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="kw"><a href="../reference/newReaction.html">newReaction</a></span>(<span class="st">"a = b"</span>, <span class="dt">fun =</span> <span class="st">"Reversible Michaelis-Menten"</span>)</a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; [1] "(a = b)"</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="kw"><a href="../reference/runTimeCourse.html">runTC</a></span>(<span class="dv">1000</span>)<span class="op">$</span>result</a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; # A tibble: 101 x 3</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt;     Time     b     a</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="co">#&gt;  1     0  1       10</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="co">#&gt;  2    10  1.75    10</span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co">#&gt;  3    20  2.40    10</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co">#&gt;  4    30  2.97    10</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="co">#&gt;  5    40  3.48    10</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="co">#&gt;  6    50  3.94    10</span></a>
<a class="sourceLine" id="cb7-27" data-line-number="27"><span class="co">#&gt;  7    60  4.35    10</span></a>
<a class="sourceLine" id="cb7-28" data-line-number="28"><span class="co">#&gt;  8    70  4.72    10</span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29"><span class="co">#&gt;  9    80  5.06    10</span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30"><span class="co">#&gt; 10    90  5.37    10</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31"><span class="co">#&gt; # … with 91 more rows</span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32"></a>
<a class="sourceLine" id="cb7-33" data-line-number="33"><span class="kw"><a href="../reference/newGlobalQuantity.html">newGlobalQuantity</a></span>(</a>
<a class="sourceLine" id="cb7-34" data-line-number="34">  <span class="st">"reaction rate"</span>,</a>
<a class="sourceLine" id="cb7-35" data-line-number="35">  <span class="dt">type =</span> <span class="st">"assignment"</span>,</a>
<a class="sourceLine" id="cb7-36" data-line-number="36">  <span class="dt">expression =</span> <span class="kw"><a href="../reference/entity_finders.html">reaction</a></span>(<span class="st">"a = b"</span>, <span class="dt">reference =</span> <span class="st">"Flux"</span>)</a>
<a class="sourceLine" id="cb7-37" data-line-number="37">)</a>
<a class="sourceLine" id="cb7-38" data-line-number="38"><span class="co">#&gt; [1] "Values[reaction rate]"</span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39"></a>
<a class="sourceLine" id="cb7-40" data-line-number="40"><span class="kw"><a href="../reference/runTimeCourse.html">runTimeCourse</a></span>(<span class="dv">1000</span>)<span class="op">$</span>result</a>
<a class="sourceLine" id="cb7-41" data-line-number="41"><span class="co">#&gt; # A tibble: 101 x 4</span></a>
<a class="sourceLine" id="cb7-42" data-line-number="42"><span class="co">#&gt;     Time     b     a `Values[reaction rate]`</span></a>
<a class="sourceLine" id="cb7-43" data-line-number="43"><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;                   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb7-44" data-line-number="44"><span class="co">#&gt;  1     0  1       10                  0.0811</span></a>
<a class="sourceLine" id="cb7-45" data-line-number="45"><span class="co">#&gt;  2    10  1.75    10                  0.0696</span></a>
<a class="sourceLine" id="cb7-46" data-line-number="46"><span class="co">#&gt;  3    20  2.40    10                  0.0608</span></a>
<a class="sourceLine" id="cb7-47" data-line-number="47"><span class="co">#&gt;  4    30  2.97    10                  0.0538</span></a>
<a class="sourceLine" id="cb7-48" data-line-number="48"><span class="co">#&gt;  5    40  3.48    10                  0.0480</span></a>
<a class="sourceLine" id="cb7-49" data-line-number="49"><span class="co">#&gt;  6    50  3.94    10                  0.0432</span></a>
<a class="sourceLine" id="cb7-50" data-line-number="50"><span class="co">#&gt;  7    60  4.35    10                  0.0391</span></a>
<a class="sourceLine" id="cb7-51" data-line-number="51"><span class="co">#&gt;  8    70  4.72    10                  0.0356</span></a>
<a class="sourceLine" id="cb7-52" data-line-number="52"><span class="co">#&gt;  9    80  5.06    10                  0.0326</span></a>
<a class="sourceLine" id="cb7-53" data-line-number="53"><span class="co">#&gt; 10    90  5.37    10                  0.0299</span></a>
<a class="sourceLine" id="cb7-54" data-line-number="54"><span class="co">#&gt; # … with 91 more rows</span></a>
<a class="sourceLine" id="cb7-55" data-line-number="55"></a>
<a class="sourceLine" id="cb7-56" data-line-number="56"><span class="kw"><a href="../reference/unloadModel.html">unloadModel</a></span>()</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#initial-setup">Initial Setup</a></li>
      <li><a href="#quick-model-building">Quick Model Building</a></li>
      <li><a href="#more-detail">More Detail</a></li>
      <li><a href="#defining-reaction-kinetics-manually">Defining Reaction Kinetics Manually</a></li>
      <li><a href="#quantities-as-proxy-for-time-course-output">Quantities as Proxy for Time Course Output</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jonas Förster, Jürgen Pahle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'fcbd5b3c51a83bf9b730904eb6ce2d5a',
    indexName: 'corc',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
