<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CoRC Introduction • CoRC</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">CoRC</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CoRC.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/entity_management.html">Managing Model Entities</a>
    </li>
    <li>
      <a href="../articles/examples.html">Case-Studies and Workflows</a>
    </li>
    <li>
      <a href="../articles/issues.html">Issues</a>
    </li>
    <li>
      <a href="../articles/model_building.html">Model Building</a>
    </li>
    <li>
      <a href="../articles/task_management.html">Managing Tasks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jpahle/CoRC">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>CoRC Introduction</h1>
                        <h4 class="author">Jonas Förster &amp; Jürgen Pahle</h4>
            
            <h4 class="date">2017-10-18</h4>
          </div>

    
    
<div class="contents">
<p><img src="figures/logo.svg" alt="CoRC logo" width="200" align="right"></p>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h1>
<div id="initial-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#initial-setup" class="anchor"></a>Initial Setup</h2>
<p>To start, load the library.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(CoRC)
<span class="co"># optionally use this at the start of any script to verify CoRC is ready.</span>
<span class="kw"><a href="../reference/getCopasi.html">getCopasi</a></span>(<span class="dt">quiet =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>From this point on, CoRC keeps an instance of Copasi running in the background. This instance can load up as many models as desired.</p>
</div>
<div id="loading-a-model" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-a-model" class="anchor"></a>Loading a model</h2>
<p>Initially, no model is loaded.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/runTimeCourse.html">runTimeCourse</a></span>()
<span class="co">#&gt; Error: No model currently in use.</span></code></pre></div>
<p>You can load a model by using one of the model management commands.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/newModel.html">newModel</a></span>()
<span class="kw"><a href="../reference/loadModel.html">loadModel</a></span>(path)
<span class="kw"><a href="../reference/loadModelFromString.html">loadModelFromString</a></span>(model_string)
<span class="kw"><a href="../reference/loadSBML.html">loadSBML</a></span>(path)
<span class="kw"><a href="../reference/loadExamples.html">loadExamples</a></span>()</code></pre></div>
<p>When loading a model, the returned object is a reference to the model that will give basic information when printed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw"><a href="../reference/loadSBML.html">loadSBML</a></span>(<span class="st">"http://www.ebi.ac.uk/biomodels-main/download?mid=BIOMD0000000329"</span>)
model
<span class="co">#&gt; # A copasi model reference:</span>
<span class="co">#&gt; Model name: "Kummer2000 - Oscillations in Calcium Signalling"</span>
<span class="co">#&gt; Number of compartments: 1</span>
<span class="co">#&gt; Number of species: 3</span>
<span class="co">#&gt; Number of reactions: 8</span></code></pre></div>
<p>This reference can be used with most functions using the <code>model</code> argument but can also be safely ignored when working with a single model.</p>
</div>
<div id="workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#workflow" class="anchor"></a>Workflow</h2>
<p>CoRC contains a plethora of functions for working with Copasi models. The most basic ones required for common workflows are used for manipulation of model entities and running tasks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw"><a href="../reference/getSpecies.html">getSpecies</a></span>())
<span class="co">#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    3 obs. of  12 variables:</span>
<span class="co">#&gt;  $ key                  : chr  "G-alpha{compartment}" "activePLC{compartment}" "Calcium{compartment}"</span>
<span class="co">#&gt;  $ name                 : chr  "G-alpha" "activePLC" "Calcium"</span>
<span class="co">#&gt;  $ compartment          : chr  "compartment" "compartment" "compartment"</span>
<span class="co">#&gt;  $ type                 : chr  "reactions" "reactions" "reactions"</span>
<span class="co">#&gt;  $ initial_concentration: num  0.01 0.01 0.01</span>
<span class="co">#&gt;  $ initial_number       : num  0.602 0.602 0.602</span>
<span class="co">#&gt;  $ concentration        : num  NaN NaN NaN</span>
<span class="co">#&gt;  $ number               : num  NaN NaN NaN</span>
<span class="co">#&gt;  $ rate                 : num  0 0 0</span>
<span class="co">#&gt;  $ number_rate          : num  0 0 0</span>
<span class="co">#&gt;  $ initial_expression   : chr  NA NA NA</span>
<span class="co">#&gt;  $ expression           : chr  NA NA NA</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/setSpecies.html">setSpecies</a></span>(<span class="st">"G-alpha"</span>, <span class="dt">initial_concentration =</span> <span class="fl">0.02</span>)
timecourse &lt;-<span class="st"> </span><span class="kw"><a href="../reference/runTimeCourse.html">runTimeCourse</a></span>(<span class="dt">duration =</span> <span class="dv">100</span>, <span class="dt">intervals =</span> <span class="dv">10000</span>)</code></pre></div>
<p>This enables quick definition of loops, for example to scan through various concentration values of a species.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ga_concentrations &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span>

<span class="cf">for</span> (ga_conc <span class="cf">in</span> ga_concentrations) {
  <span class="kw"><a href="../reference/setSpecies.html">setSpecies</a></span>(<span class="st">"G-alpha"</span>, <span class="dt">initial_concentration =</span> ga_conc)
  
  <span class="kw">print</span>(<span class="kw">paste</span>(
    <span class="st">"Current concentration:"</span>, <span class="kw"><a href="../reference/getSpecies.html">getSpecies</a></span>(<span class="st">"G-alpha"</span>)<span class="op">$</span>initial_concentration
  ))
  
  <span class="co"># further commands e.g.:</span>
  <span class="co"># runTimecourse()</span>
  <span class="co"># saveModel(paste0("ga", ga_value, ".cps"))</span>
}
<span class="co">#&gt; [1] "Current concentration: 1"</span>
<span class="co">#&gt; [1] "Current concentration: 2"</span>
<span class="co">#&gt; [1] "Current concentration: 3"</span>
<span class="co">#&gt; [1] "Current concentration: 4"</span>
<span class="co">#&gt; [1] "Current concentration: 5"</span></code></pre></div>
</div>
<div id="corc-data" class="section level2">
<h2 class="hasAnchor">
<a href="#corc-data" class="anchor"></a>CoRC data</h2>
<p>Data generated by CoRC is returned as common R structures such as lists, data frames and matrices. Data frames are wrapped in an equivalent structure called a <a href="https://cran.r-project.org/web/packages/tibble/README.html"><code>tibble</code></a> which behaves identical in most circumstances but gives a reasonable overview when printing.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">timecourse<span class="op">$</span>result
<span class="co">#&gt; # A tibble: 10,001 x 4</span>
<span class="co">#&gt;     Time  `G-alpha`  activePLC      Calcium</span>
<span class="co">#&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt;  1  0.00 0.02000000 0.01000000 0.0100000000</span>
<span class="co">#&gt;  2  0.01 0.02272268 0.01015319 0.0003199739</span>
<span class="co">#&gt;  3  0.02 0.02552420 0.01033875 0.0003590553</span>
<span class="co">#&gt;  4  0.03 0.02840587 0.01055732 0.0004000496</span>
<span class="co">#&gt;  5  0.04 0.03136984 0.01080951 0.0004422365</span>
<span class="co">#&gt;  6  0.05 0.03441839 0.01109600 0.0004856505</span>
<span class="co">#&gt;  7  0.06 0.03755381 0.01141747 0.0005303260</span>
<span class="co">#&gt;  8  0.07 0.04077843 0.01177460 0.0005762987</span>
<span class="co">#&gt;  9  0.08 0.04409464 0.01216813 0.0006236046</span>
<span class="co">#&gt; 10  0.09 0.04750487 0.01259880 0.0006722809</span>
<span class="co">#&gt; # ... with 9,991 more rows</span></code></pre></div>
<p>It is encouraged to use the <a href="https://cran.r-project.org/web/packages/ggplot2/index.html">ggplot2 package</a> for generating publication-ready plots from CoRC data. The helper function <code>autoplot</code> can be used to quickly print timecourse data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/autoplot">autoplot</a></span>(timecourse)</code></pre></div>
<p><img src="CoRC_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
</div>
<div id="final-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#final-steps" class="anchor"></a>Final steps</h2>
<p>Finally, a model can be saved via several model management commands.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/saveModel.html">saveModel</a></span>(filename)
<span class="kw"><a href="../reference/saveModelToString.html">saveModelToString</a></span>()
<span class="kw"><a href="../reference/saveSBML.html">saveSBML</a></span>(path, <span class="dt">level =</span> <span class="dv">3</span>, <span class="dt">version =</span> <span class="dv">1</span>)</code></pre></div>
<p>To free up memory, unload any loaded models or restart R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/unloadModel.html">unloadModel</a></span>(model)
<span class="kw"><a href="../reference/unloadAllModels.html">unloadAllModels</a></span>()</code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>Examples and case-studies can be found in the <a href="https://jpahle.github.io/CoRC/articles/examples.html">examples article</a> on the CoRC website.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#getting-started">Getting started</a><ul class="nav nav-pills nav-stacked">
<li><a href="#initial-setup">Initial Setup</a></li>
      <li><a href="#loading-a-model">Loading a model</a></li>
      <li><a href="#workflow">Workflow</a></li>
      <li><a href="#corc-data">CoRC data</a></li>
      <li><a href="#final-steps">Final steps</a></li>
      <li><a href="#examples">Examples</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jonas Förster, Jürgen Pahle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
